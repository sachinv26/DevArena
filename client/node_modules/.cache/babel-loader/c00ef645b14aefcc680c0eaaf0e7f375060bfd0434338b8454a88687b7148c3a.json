{"ast":null,"code":"import _defineProperty from \"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _classCallCheck from \"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"/Users/sachin/DevArena/client/src/components/posts/PostForm.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport TextAreaFieldGroup from '../common/TextAreaFieldGroup';\nimport { addPost } from '../../actions/postActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar PostForm = /*#__PURE__*/function (_Component) {\n  _inherits(PostForm, _Component);\n  var _super = _createSuper(PostForm);\n  function PostForm(props) {\n    var _this;\n    _classCallCheck(this, PostForm);\n    _this = _super.call(this, props);\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n      var user = _this.props.auth.user;\n      var newPost = {\n        text: _this.state.text,\n        name: user.name,\n        avatar: user.avatar\n      };\n      _this.props.addPost(newPost);\n      _this.setState({\n        text: ''\n      });\n    };\n    _this.onChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n    _this.state = {\n      text: '',\n      errors: {}\n    };\n    return _this;\n  }\n  _createClass(PostForm, [{\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(newProps) {\n      if (newProps.errors) {\n        this.setState({\n          errors: newProps.errors\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var errors = this.state.errors;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post-form mb-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card card-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header bg-info text-white\",\n            children: \"Write a post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: this.onSubmit,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: /*#__PURE__*/_jsxDEV(TextAreaFieldGroup, {\n                  placeholder: \"Type a message here...\",\n                  onChange: this.onChange,\n                  value: this.state.text,\n                  name: \"text\",\n                  error: errors.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 50,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-outline-success\",\n                children: \"Submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this);\n    }\n  }]);\n  return PostForm;\n}(Component);\nPostForm.propTypes = {\n  addPost: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    errors: state.errors\n  };\n};\nexport default connect(mapStateToProps, {\n  addPost: addPost\n})(PostForm);","map":{"version":3,"names":["React","Component","PropTypes","connect","TextAreaFieldGroup","addPost","jsxDEV","_jsxDEV","PostForm","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","onSubmit","e","preventDefault","user","auth","newPost","text","state","name","avatar","setState","onChange","_defineProperty","target","value","errors","_createClass","key","UNSAFE_componentWillReceiveProps","newProps","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","error","type","propTypes","func","isRequired","object","mapStateToProps"],"sources":["/Users/sachin/DevArena/client/src/components/posts/PostForm.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport TextAreaFieldGroup from '../common/TextAreaFieldGroup';\nimport { addPost } from '../../actions/postActions';\n\nclass PostForm extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            text: '',\n            errors: {}\n        };\n    }\n\n    UNSAFE_componentWillReceiveProps(newProps) {\n        if (newProps.errors) {\n            this.setState({ errors: newProps.errors });\n        }\n    }\n\n    onSubmit = e => {\n        e.preventDefault();\n\n        const { user } = this.props.auth;\n        const newPost = {\n            text: this.state.text,\n            name: user.name,\n            avatar: user.avatar\n        };\n\n        this.props.addPost(newPost);\n        this.setState({ text: '' });\n    };\n\n    onChange = e => {\n        this.setState({ [e.target.name]: e.target.value });\n    };\n\n    render() {\n        const { errors } = this.state;\n\n        return (\n            <div className=\"post-form mb-3\">\n                <div className=\"card card-info\">\n                    <div className=\"card-header bg-info text-white\">Write a post</div>\n                    <div className=\"card-body\">\n                        <form onSubmit={this.onSubmit}>\n                            <div className=\"form-group\">\n                                <TextAreaFieldGroup\n                                    placeholder=\"Type a message here...\"\n                                    onChange={this.onChange}\n                                    value={this.state.text}\n                                    name=\"text\"\n                                    error={errors.text}\n                                />\n                            </div>\n                            <button type=\"submit\" className=\"btn btn-outline-success\">\n                                Submit\n                            </button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nPostForm.propTypes = {\n    addPost: PropTypes.func.isRequired,\n    auth: PropTypes.object.isRequired,\n    errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n    auth: state.auth,\n    errors: state.errors\n});\n\nexport default connect(\n    mapStateToProps,\n    { addPost }\n)(PostForm);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}