{"ast":null,"code":"import _defineProperty from\"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import{loginUser}from\"../../actions/authActions\";import TextFieldGroup from\"../common/TextFieldGroup\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);_this=_super.call(this);_this.onChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.onSubmit=function(e){e.preventDefault();var userData={email:_this.state.email,password:_this.state.password};console.log(\"CLicked\");_this.props.loginUser(userData);};_this.state={email:\"\",password:\"\",errors:{}};return _this;}_createClass(Login,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.auth.isAuthenticated){this.props.history.push(\"/dashboard\");}}},{key:\"UNSAFE_componentWillReceiveProps\",value:function UNSAFE_componentWillReceiveProps(nextProps){if(nextProps.auth.isAuthenticated){this.props.history.push(\"/dashboard\");}if(nextProps.errors){this.setState({errors:nextProps.errors});}}},{key:\"render\",value:function render(){var errors=this.state.errors;return/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8 m-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-5 text-center\",children:\"Sign In\"}),/*#__PURE__*/_jsx(\"p\",{className:\"lead text-center\",children:\"Sign in to your DevArena account\"}),/*#__PURE__*/_jsxs(\"form\",{noValidate:true,onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsx(TextFieldGroup,{placeholder:\"Email Address\",type:\"email\",onChange:this.onChange,error:errors.email,value:this.state.email,name:\"email\"}),/*#__PURE__*/_jsx(TextFieldGroup,{placeholder:\"Password\",type:\"password\",onChange:this.onChange,error:errors.password,value:this.state.password,name:\"password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn btn-primary btn-lg btn-block\"})]})]})})})});}}]);return Login;}(Component);var mapStateToProps=function mapStateToProps(state){return{auth:state.auth,errors:state.errors};};export default connect(mapStateToProps,{loginUser:loginUser})(Login);","map":{"version":3,"names":["React","Component","connect","loginUser","TextFieldGroup","jsx","_jsx","jsxs","_jsxs","Login","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","call","onChange","e","setState","_defineProperty","target","name","value","onSubmit","preventDefault","userData","email","state","password","console","log","props","errors","_createClass","key","componentDidMount","auth","isAuthenticated","history","push","UNSAFE_componentWillReceiveProps","nextProps","render","className","children","noValidate","placeholder","type","error","mapStateToProps"],"sources":["/Users/sachin/DevArena/client/src/components/auth/Login.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { loginUser } from \"../../actions/authActions\";\nimport TextFieldGroup from \"../common/TextFieldGroup\";\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      email: \"\",\n      password: \"\",\n      errors: {},\n    };\n  }\n\n  onChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  onSubmit = (e) => {\n    e.preventDefault();\n\n    const userData = {\n      email: this.state.email,\n      password: this.state.password,\n    };\n    console.log(\"CLicked\");\n\n    this.props.loginUser(userData);\n  };\n\n  componentDidMount() {\n    if (this.props.auth.isAuthenticated) {\n      this.props.history.push(\"/dashboard\");\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.auth.isAuthenticated) {\n      this.props.history.push(\"/dashboard\");\n    }\n\n    if (nextProps.errors) {\n      this.setState({ errors: nextProps.errors });\n    }\n  }\n\n  render() {\n    const { errors } = this.state;\n\n    return (\n      <div className=\"login\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-md-8 m-auto\">\n              <h1 className=\"display-5 text-center\">Sign In</h1>\n              <p className=\"lead text-center\">\n                Sign in to your DevArena account\n              </p>\n              <form noValidate onSubmit={this.onSubmit}>\n                <TextFieldGroup\n                  placeholder=\"Email Address\"\n                  type=\"email\"\n                  onChange={this.onChange}\n                  error={errors.email}\n                  value={this.state.email}\n                  name=\"email\"\n                />\n                <TextFieldGroup\n                  placeholder=\"Password\"\n                  type=\"password\"\n                  onChange={this.onChange}\n                  error={errors.password}\n                  value={this.state.password}\n                  name=\"password\"\n                />\n                <input\n                  type=\"submit\"\n                  className=\"btn btn-primary btn-lg btn-block\"\n                />\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nLogin.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  auth: state.auth,\n  errors: state.errors,\n});\n\nexport default connect(mapStateToProps, { loginUser })(Login);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}