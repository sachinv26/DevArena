{"ast":null,"code":"import _classCallCheck from\"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Link}from'react-router-dom';import{connect}from'react-redux';import{deleteAccount,getCurrentProfile}from'../../actions/profileActions';import Spinner from'../common/Spinner';import ProfileActions from'./ProfileActions';import Experience from'./Experience';import Education from'./Education';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dashboard=/*#__PURE__*/function(_Component){_inherits(Dashboard,_Component);var _super=_createSuper(Dashboard);function Dashboard(){var _this;_classCallCheck(this,Dashboard);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.onDeleteClick=function(){_this.props.deleteAccount();};return _this;}_createClass(Dashboard,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.getCurrentProfile();}},{key:\"render\",value:function render(){var user=this.props.auth.user;var _this$props$profile=this.props.profile,profile=_this$props$profile.profile,loading=_this$props$profile.loading;var dashboardContent;if(profile===null||loading){dashboardContent=/*#__PURE__*/_jsx(Spinner,{});}else{// Check if logged in user has profile data\nif(Object.keys(profile).length>0){dashboardContent=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"lead text-muted\",children:[\"Welcome \",/*#__PURE__*/_jsx(Link,{to:\"/profile/\".concat(profile.handle),children:user.name})]}),/*#__PURE__*/_jsx(ProfileActions,{}),/*#__PURE__*/_jsx(Experience,{experience:profile.experience}),/*#__PURE__*/_jsx(Education,{education:profile.education}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'60px'},children:/*#__PURE__*/_jsx(\"button\",{onClick:this.onDeleteClick,className:\"btn btn-outline-danger\",children:\"Delete My Account\"})})]});}else{// User is logged in but has no profile\ndashboardContent=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"lead text-muted\",children:[\"Welcome \",user.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[' ',\"You have not created a profile yet, please add some info about you\"]}),/*#__PURE__*/_jsx(Link,{to:\"/create-profile\",className:\"btn btn-lg btn-info\",children:\"Create Profile\"})]});}}return/*#__PURE__*/_jsx(\"div\",{className:\"dashboard\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-5\",children:\"Dashboard\"}),dashboardContent]})})})});}}]);return Dashboard;}(Component);var mapStateToProps=function mapStateToProps(state){return{profile:state.profile,auth:state.auth};};export default connect(mapStateToProps,{getCurrentProfile:getCurrentProfile,deleteAccount:deleteAccount})(Dashboard);","map":{"version":3,"names":["React","Component","Link","connect","deleteAccount","getCurrentProfile","Spinner","ProfileActions","Experience","Education","jsx","_jsx","jsxs","_jsxs","Dashboard","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","onDeleteClick","props","_createClass","key","value","componentDidMount","render","user","auth","_this$props$profile","profile","loading","dashboardContent","Object","keys","children","className","to","handle","name","experience","education","style","marginBottom","onClick","mapStateToProps","state"],"sources":["/Users/sachin/DevArena/client/src/components/dashboard/Dashboard.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { deleteAccount, getCurrentProfile } from '../../actions/profileActions';\nimport Spinner from '../common/Spinner';\nimport ProfileActions from './ProfileActions';\nimport Experience from './Experience';\nimport Education from './Education';\n\nclass Dashboard extends Component {\n    componentDidMount() {\n        this.props.getCurrentProfile();\n    }\n\n    onDeleteClick = () => {\n        this.props.deleteAccount();\n    };\n\n    render() {\n        const { user } = this.props.auth;\n        const { profile, loading } = this.props.profile;\n\n        let dashboardContent;\n\n        if (profile === null || loading) {\n            dashboardContent = <Spinner />;\n        } else {\n            // Check if logged in user has profile data\n            if (Object.keys(profile).length > 0) {\n                dashboardContent = (\n                    <div>\n                        <p className=\"lead text-muted\">\n                            Welcome <Link to={`/profile/${profile.handle}`}>{user.name}</Link>\n                        </p>\n                        <ProfileActions />\n                        <Experience experience={profile.experience} />\n                        <Education education={profile.education} />\n                        <div style={{ marginBottom: '60px' }}>\n                            <button onClick={this.onDeleteClick} className=\"btn btn-outline-danger\">\n                                Delete My Account\n                            </button>\n                        </div>\n                    </div>\n                );\n            } else {\n                // User is logged in but has no profile\n                dashboardContent = (\n                    <div>\n                        <p className=\"lead text-muted\">Welcome {user.name}</p>\n                        <p>\n                            {' '}\n                            You have not created a profile yet, please add some info about you\n                        </p>\n                        <Link to=\"/create-profile\" className=\"btn btn-lg btn-info\">\n                            Create Profile\n                        </Link>\n                    </div>\n                );\n            }\n        }\n\n        return (\n            <div className=\"dashboard\">\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col-md-12\">\n                            <h1 className=\"display-5\">Dashboard</h1>\n                            {dashboardContent}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nDashboard.propTypes = {\n    getCurrentProfile: PropTypes.func.isRequired,\n    deleteAccount: PropTypes.func.isRequired,\n    auth: PropTypes.object.isRequired,\n    profile: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n    profile: state.profile,\n    auth: state.auth\n});\n\nexport default connect(\n    mapStateToProps,\n    { getCurrentProfile, deleteAccount }\n)(Dashboard);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}