{"ast":null,"code":"import _defineProperty from\"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{connect}from'react-redux';import TextAreaFieldGroup from'../common/TextAreaFieldGroup';import{addComment}from'../../actions/postActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CommentForm=/*#__PURE__*/function(_Component){_inherits(CommentForm,_Component);var _super=_createSuper(CommentForm);function CommentForm(props){var _this;_classCallCheck(this,CommentForm);_this=_super.call(this,props);_this.onSubmit=function(e){e.preventDefault();var user=_this.props.auth.user;var postId=_this.props.postId;var newComment={text:_this.state.text,name:user.name,avatar:user.avatar};_this.props.addComment(postId,newComment);_this.setState({text:''});};_this.onChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.state={text:'',errors:{}};return _this;}_createClass(CommentForm,[{key:\"UNSAFE_componentWillReceiveProps\",value:function UNSAFE_componentWillReceiveProps(newProps){if(newProps.errors){this.setState({errors:newProps.errors});}}},{key:\"render\",value:function render(){var errors=this.state.errors;return/*#__PURE__*/_jsx(\"div\",{className:\"post-form mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card card-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-info text-white\",children:\"Make a comment\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(TextAreaFieldGroup,{placeholder:\"Type a reply here...\",onChange:this.onChange,value:this.state.text,name:\"text\",error:errors.text})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-outline-success\",children:\"Submit\"})]})})]})});}}]);return CommentForm;}(Component);var mapStateToProps=function mapStateToProps(state){return{auth:state.auth,errors:state.errors};};export default connect(mapStateToProps,{addComment:addComment})(CommentForm);","map":{"version":3,"names":["React","Component","connect","TextAreaFieldGroup","addComment","jsx","_jsx","jsxs","_jsxs","CommentForm","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","onSubmit","e","preventDefault","user","auth","postId","newComment","text","state","name","avatar","setState","onChange","_defineProperty","target","value","errors","_createClass","key","UNSAFE_componentWillReceiveProps","newProps","render","className","children","placeholder","error","type","mapStateToProps"],"sources":["/Users/sachin/DevArena/client/src/components/post/CommentForm.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport TextAreaFieldGroup from '../common/TextAreaFieldGroup';\nimport { addComment } from '../../actions/postActions';\n\nclass CommentForm extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            text: '',\n            errors: {}\n        };\n    }\n\n    UNSAFE_componentWillReceiveProps(newProps) {\n        if (newProps.errors) {\n            this.setState({ errors: newProps.errors });\n        }\n    }\n\n    onSubmit = e => {\n        e.preventDefault();\n\n        const { user } = this.props.auth;\n        const { postId } = this.props;\n\n        const newComment = {\n            text: this.state.text,\n            name: user.name,\n            avatar: user.avatar\n        };\n\n        this.props.addComment(postId, newComment);\n        this.setState({ text: '' });\n    };\n\n    onChange = e => {\n        this.setState({ [e.target.name]: e.target.value });\n    };\n\n    render() {\n        const { errors } = this.state;\n\n        return (\n            <div className=\"post-form mb-3\">\n                <div className=\"card card-info\">\n                    <div className=\"card-header bg-info text-white\">Make a comment</div>\n                    <div className=\"card-body\">\n                        <form onSubmit={this.onSubmit}>\n                            <div className=\"form-group\">\n                                <TextAreaFieldGroup\n                                    placeholder=\"Type a reply here...\"\n                                    onChange={this.onChange}\n                                    value={this.state.text}\n                                    name=\"text\"\n                                    error={errors.text}\n                                />\n                            </div>\n                            <button type=\"submit\" className=\"btn btn-outline-success\">\n                                Submit\n                            </button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nCommentForm.propTypes = {\n    addPost: PropTypes.func.isRequired,\n    auth: PropTypes.object.isRequired,\n    postId: PropTypes.string.isRequired,\n    errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n    auth: state.auth,\n    errors: state.errors\n});\n\nexport default connect(\n    mapStateToProps,\n    { addComment }\n)(CommentForm);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}