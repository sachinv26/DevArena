{"ast":null,"code":"import axios from \"axios\";\nimport { CLEAR_CURRENT_PROFILE, GET_ERRORS, GET_PROFILE, GET_PROFILES, PROFILE_LOADING, SET_CURRENT_USER } from \"./types\";\n\n// Get current profile\nexport var getCurrentProfile = function getCurrentProfile() {\n  return function (dispatch) {\n    dispatch(setProfileLoading());\n    axios.get(\"https://devarena-byn0.onrender.com/api/profile\").then(function (res) {\n      return dispatch({\n        type: GET_PROFILE,\n        payload: res.data\n      });\n    }).catch(function () {\n      return dispatch({\n        type: GET_PROFILE,\n        payload: {}\n      });\n    });\n  };\n};\n\n// Get current profile\nexport var getProfileByHandle = function getProfileByHandle(handle) {\n  return function (dispatch) {\n    dispatch(setProfileLoading());\n    axios.get(\"https://devarena-byn0.onrender.com/api/profile/handle/\".concat(handle)).then(function (res) {\n      return dispatch({\n        type: GET_PROFILE,\n        payload: res.data\n      });\n    }).catch(function () {\n      return dispatch({\n        type: GET_PROFILE,\n        payload: null\n      });\n    });\n  };\n};\n\n// Create Profile and redirect\nexport var createProfile = function createProfile(profileData, history) {\n  return function (dispatch) {\n    axios.post(\"https://devarena-byn0.onrender.com/api/profile\", profileData).then(function () {\n      return history.push(\"/dashboard\");\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n};\n\n// Add experience\nexport var addExperience = function addExperience(expData, history) {\n  return function (dispatch) {\n    axios.post(\"https://devarena-byn0.onrender.com/api/profile/experience\", expData).then(function () {\n      return history.push(\"/dashboard\");\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n};\n\n// Add education\nexport var addEducation = function addEducation(eduData, history) {\n  return function (dispatch) {\n    axios.post(\"https://devarena-byn0.onrender.com/api/profile/education\", eduData).then(function () {\n      return history.push(\"/dashboard\");\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n};\n\n// Delete experience\nexport var deleteExperience = function deleteExperience(id) {\n  return function (dispatch) {\n    axios.delete(\"https://devarena-byn0.onrender.com/api/profile/experience/\".concat(id)).then(function (res) {\n      return dispatch({\n        type: GET_PROFILE,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n};\n\n// Delete education\nexport var deleteEducation = function deleteEducation(id) {\n  return function (dispatch) {\n    axios.delete(\"https://devarena-byn0.onrender.com/api/profile/education/\".concat(id)).then(function (res) {\n      return dispatch({\n        type: GET_PROFILE,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n};\n\n// Delete Account & Profile\nexport var deleteAccount = function deleteAccount() {\n  return function (dispatch) {\n    if (window.confirm(\"Are you sure? \\nThis action can NOT be undone!\")) {\n      axios.delete(\"https://devarena-byn0.onrender.com/api/profile\").then(function () {\n        return dispatch({\n          type: SET_CURRENT_USER,\n          payload: {}\n        });\n      }).catch(function (err) {\n        return dispatch({\n          type: GET_ERRORS,\n          payload: err.response.data\n        });\n      });\n    }\n  };\n};\n\n// export const getProfiles = () => async (dispatch) => {\n//     dispatch({ type: CLEAR_PROFILE });\n\n//     try {\n//       const res = await api.get('/profile');\n\n//       dispatch({\n//         type: GET_PROFILES,\n//         payload: res.data\n//       });\n//     } catch (err) {\n//       dispatch({\n//         type: PROFILE_ERROR,\n//         payload: { msg: err.response.statusText, status: err.response.status }\n//       });\n//     }\n//   };\n// Get all Profiles\nexport var getProfiles = function getProfiles() {\n  return function (dispatch) {\n    dispatch(setProfileLoading());\n    axios.get(\"https://devarena-byn0.onrender.com/api/profile/all\").then(function (res) {\n      return dispatch({\n        type: GET_PROFILES,\n        payload: res.data\n      });\n    }).catch(function () {\n      return dispatch({\n        type: GET_PROFILES,\n        payload: null\n      });\n    });\n  };\n};\n\n// Profile loading\nexport var setProfileLoading = function setProfileLoading() {\n  return {\n    type: PROFILE_LOADING\n  };\n};\n\n// Clear profile\nexport var clearCurrentProfile = function clearCurrentProfile() {\n  return {\n    type: CLEAR_CURRENT_PROFILE\n  };\n};","map":{"version":3,"names":["axios","CLEAR_CURRENT_PROFILE","GET_ERRORS","GET_PROFILE","GET_PROFILES","PROFILE_LOADING","SET_CURRENT_USER","getCurrentProfile","dispatch","setProfileLoading","get","then","res","type","payload","data","catch","getProfileByHandle","handle","concat","createProfile","profileData","history","post","push","err","response","addExperience","expData","addEducation","eduData","deleteExperience","id","delete","deleteEducation","deleteAccount","window","confirm","getProfiles","clearCurrentProfile"],"sources":["/Users/sachin/DevArena/client/src/actions/profileActions.js"],"sourcesContent":["import axios from \"axios\";\nimport {\n  CLEAR_CURRENT_PROFILE,\n  GET_ERRORS,\n  GET_PROFILE,\n  GET_PROFILES,\n  PROFILE_LOADING,\n  SET_CURRENT_USER,\n} from \"./types\";\n\n// Get current profile\nexport const getCurrentProfile = () => (dispatch) => {\n  dispatch(setProfileLoading());\n  axios\n    .get(\"https://devarena-byn0.onrender.com/api/profile\")\n    .then((res) =>\n      dispatch({\n        type: GET_PROFILE,\n        payload: res.data,\n      })\n    )\n    .catch(() =>\n      dispatch({\n        type: GET_PROFILE,\n        payload: {},\n      })\n    );\n};\n\n// Get current profile\nexport const getProfileByHandle = (handle) => (dispatch) => {\n  dispatch(setProfileLoading());\n  axios\n    .get(`https://devarena-byn0.onrender.com/api/profile/handle/${handle}`)\n    .then((res) =>\n      dispatch({\n        type: GET_PROFILE,\n        payload: res.data,\n      })\n    )\n    .catch(() =>\n      dispatch({\n        type: GET_PROFILE,\n        payload: null,\n      })\n    );\n};\n\n// Create Profile and redirect\nexport const createProfile = (profileData, history) => (dispatch) => {\n  axios\n    .post(\"https://devarena-byn0.onrender.com/api/profile\", profileData)\n    .then(() => history.push(\"/dashboard\"))\n    .catch((err) =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data,\n      })\n    );\n};\n\n// Add experience\nexport const addExperience = (expData, history) => (dispatch) => {\n  axios\n    .post(\"https://devarena-byn0.onrender.com/api/profile/experience\", expData)\n    .then(() => history.push(\"/dashboard\"))\n    .catch((err) =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data,\n      })\n    );\n};\n\n// Add education\nexport const addEducation = (eduData, history) => (dispatch) => {\n  axios\n    .post(\"https://devarena-byn0.onrender.com/api/profile/education\", eduData)\n    .then(() => history.push(\"/dashboard\"))\n    .catch((err) =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data,\n      })\n    );\n};\n\n// Delete experience\nexport const deleteExperience = (id) => (dispatch) => {\n  axios\n    .delete(`https://devarena-byn0.onrender.com/api/profile/experience/${id}`)\n    .then((res) =>\n      dispatch({\n        type: GET_PROFILE,\n        payload: res.data,\n      })\n    )\n    .catch((err) =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data,\n      })\n    );\n};\n\n// Delete education\nexport const deleteEducation = (id) => (dispatch) => {\n  axios\n    .delete(`https://devarena-byn0.onrender.com/api/profile/education/${id}`)\n    .then((res) =>\n      dispatch({\n        type: GET_PROFILE,\n        payload: res.data,\n      })\n    )\n    .catch((err) =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data,\n      })\n    );\n};\n\n// Delete Account & Profile\nexport const deleteAccount = () => (dispatch) => {\n  if (window.confirm(\"Are you sure? \\nThis action can NOT be undone!\")) {\n    axios\n      .delete(\"https://devarena-byn0.onrender.com/api/profile\")\n      .then(() =>\n        dispatch({\n          type: SET_CURRENT_USER,\n          payload: {},\n        })\n      )\n      .catch((err) =>\n        dispatch({\n          type: GET_ERRORS,\n          payload: err.response.data,\n        })\n      );\n  }\n};\n\n// export const getProfiles = () => async (dispatch) => {\n//     dispatch({ type: CLEAR_PROFILE });\n\n//     try {\n//       const res = await api.get('/profile');\n\n//       dispatch({\n//         type: GET_PROFILES,\n//         payload: res.data\n//       });\n//     } catch (err) {\n//       dispatch({\n//         type: PROFILE_ERROR,\n//         payload: { msg: err.response.statusText, status: err.response.status }\n//       });\n//     }\n//   };\n// Get all Profiles\nexport const getProfiles = () => (dispatch) => {\n  dispatch(setProfileLoading());\n  axios\n    .get(\"https://devarena-byn0.onrender.com/api/profile/all\")\n    .then((res) =>\n      dispatch({\n        type: GET_PROFILES,\n        payload: res.data,\n      })\n    )\n    .catch(() =>\n      dispatch({\n        type: GET_PROFILES,\n        payload: null,\n      })\n    );\n};\n\n// Profile loading\nexport const setProfileLoading = () => {\n  return {\n    type: PROFILE_LOADING,\n  };\n};\n\n// Clear profile\nexport const clearCurrentProfile = () => {\n  return {\n    type: CLEAR_CURRENT_PROFILE,\n  };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}