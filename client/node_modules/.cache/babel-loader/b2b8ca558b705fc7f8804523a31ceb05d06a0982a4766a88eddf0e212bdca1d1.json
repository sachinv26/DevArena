{"ast":null,"code":"import axios from\"axios\";import{CLEAR_CURRENT_PROFILE,GET_ERRORS,GET_PROFILE,GET_PROFILES,PROFILE_LOADING,SET_CURRENT_USER}from\"./types\";// Get current profile\nexport var getCurrentProfile=function getCurrentProfile(){return function(dispatch){dispatch(setProfileLoading());axios.get(\"/api/profile\").then(function(res){return dispatch({type:GET_PROFILE,payload:res.data});}).catch(function(){return dispatch({type:GET_PROFILE,payload:{}});});};};// Get current profile\nexport var getProfileByHandle=function getProfileByHandle(handle){return function(dispatch){dispatch(setProfileLoading());axios.get(\"/api/profile/handle/\".concat(handle)).then(function(res){return dispatch({type:GET_PROFILE,payload:res.data});}).catch(function(){return dispatch({type:GET_PROFILE,payload:null});});};};// Create Profile and redirect\nexport var createProfile=function createProfile(profileData,history){return function(dispatch){axios.post(\"/api/profile\",profileData).then(function(){return history.push(\"/dashboard\");}).catch(function(err){return dispatch({type:GET_ERRORS,payload:err.response.data});});};};// Add experience\nexport var addExperience=function addExperience(expData,history){return function(dispatch){axios.post(\"/api/profile/experience\",expData).then(function(){return history.push(\"/dashboard\");}).catch(function(err){return dispatch({type:GET_ERRORS,payload:err.response.data});});};};// Add education\nexport var addEducation=function addEducation(eduData,history){return function(dispatch){axios.post(\"/api/profile/education\",eduData).then(function(){return history.push(\"/dashboard\");}).catch(function(err){return dispatch({type:GET_ERRORS,payload:err.response.data});});};};// Delete experience\nexport var deleteExperience=function deleteExperience(id){return function(dispatch){axios.delete(\"/api/profile/experience/\".concat(id)).then(function(res){return dispatch({type:GET_PROFILE,payload:res.data});}).catch(function(err){return dispatch({type:GET_ERRORS,payload:err.response.data});});};};// Delete education\nexport var deleteEducation=function deleteEducation(id){return function(dispatch){axios.delete(\"/api/profile/education/\".concat(id)).then(function(res){return dispatch({type:GET_PROFILE,payload:res.data});}).catch(function(err){return dispatch({type:GET_ERRORS,payload:err.response.data});});};};// Delete Account & Profile\nexport var deleteAccount=function deleteAccount(){return function(dispatch){if(window.confirm(\"Are you sure? \\nThis action can NOT be undone!\")){axios.delete(\"/api/profile\").then(function(){return dispatch({type:SET_CURRENT_USER,payload:{}});}).catch(function(err){return dispatch({type:GET_ERRORS,payload:err.response.data});});}};};// export const getProfiles = () => async (dispatch) => {\n//     dispatch({ type: CLEAR_PROFILE });\n//     try {\n//       const res = await api.get('/profile');\n//       dispatch({\n//         type: GET_PROFILES,\n//         payload: res.data\n//       });\n//     } catch (err) {\n//       dispatch({\n//         type: PROFILE_ERROR,\n//         payload: { msg: err.response.statusText, status: err.response.status }\n//       });\n//     }\n//   };\n// Get all Profiles\nexport var getProfiles=function getProfiles(){return function(dispatch){dispatch(setProfileLoading());axios.get(\"/api/profile/all\").then(function(res){return dispatch({type:GET_PROFILES,payload:res.data});}).catch(function(){return dispatch({type:GET_PROFILES,payload:null});});};};// Profile loading\nexport var setProfileLoading=function setProfileLoading(){return{type:PROFILE_LOADING};};// Clear profile\nexport var clearCurrentProfile=function clearCurrentProfile(){return{type:CLEAR_CURRENT_PROFILE};};","map":{"version":3,"names":["axios","CLEAR_CURRENT_PROFILE","GET_ERRORS","GET_PROFILE","GET_PROFILES","PROFILE_LOADING","SET_CURRENT_USER","getCurrentProfile","dispatch","setProfileLoading","get","then","res","type","payload","data","catch","getProfileByHandle","handle","concat","createProfile","profileData","history","post","push","err","response","addExperience","expData","addEducation","eduData","deleteExperience","id","delete","deleteEducation","deleteAccount","window","confirm","getProfiles","clearCurrentProfile"],"sources":["/Users/sachin/DevArena/client/src/actions/profileActions.js"],"sourcesContent":["import axios from \"axios\";\nimport {\n  CLEAR_CURRENT_PROFILE,\n  GET_ERRORS,\n  GET_PROFILE,\n  GET_PROFILES,\n  PROFILE_LOADING,\n  SET_CURRENT_USER,\n} from \"./types\";\n\n// Get current profile\nexport const getCurrentProfile = () => (dispatch) => {\n  dispatch(setProfileLoading());\n  axios\n    .get(\"/api/profile\")\n    .then((res) =>\n      dispatch({\n        type: GET_PROFILE,\n        payload: res.data,\n      })\n    )\n    .catch(() =>\n      dispatch({\n        type: GET_PROFILE,\n        payload: {},\n      })\n    );\n};\n\n// Get current profile\nexport const getProfileByHandle = (handle) => (dispatch) => {\n  dispatch(setProfileLoading());\n  axios\n    .get(`/api/profile/handle/${handle}`)\n    .then((res) =>\n      dispatch({\n        type: GET_PROFILE,\n        payload: res.data,\n      })\n    )\n    .catch(() =>\n      dispatch({\n        type: GET_PROFILE,\n        payload: null,\n      })\n    );\n};\n\n// Create Profile and redirect\nexport const createProfile = (profileData, history) => (dispatch) => {\n  axios\n    .post(\"/api/profile\", profileData)\n    .then(() => history.push(\"/dashboard\"))\n    .catch((err) =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data,\n      })\n    );\n};\n\n// Add experience\nexport const addExperience = (expData, history) => (dispatch) => {\n  axios\n    .post(\"/api/profile/experience\", expData)\n    .then(() => history.push(\"/dashboard\"))\n    .catch((err) =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data,\n      })\n    );\n};\n\n// Add education\nexport const addEducation = (eduData, history) => (dispatch) => {\n  axios\n    .post(\"/api/profile/education\", eduData)\n    .then(() => history.push(\"/dashboard\"))\n    .catch((err) =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data,\n      })\n    );\n};\n\n// Delete experience\nexport const deleteExperience = (id) => (dispatch) => {\n  axios\n    .delete(`/api/profile/experience/${id}`)\n    .then((res) =>\n      dispatch({\n        type: GET_PROFILE,\n        payload: res.data,\n      })\n    )\n    .catch((err) =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data,\n      })\n    );\n};\n\n// Delete education\nexport const deleteEducation = (id) => (dispatch) => {\n  axios\n    .delete(`/api/profile/education/${id}`)\n    .then((res) =>\n      dispatch({\n        type: GET_PROFILE,\n        payload: res.data,\n      })\n    )\n    .catch((err) =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data,\n      })\n    );\n};\n\n// Delete Account & Profile\nexport const deleteAccount = () => (dispatch) => {\n  if (window.confirm(\"Are you sure? \\nThis action can NOT be undone!\")) {\n    axios\n      .delete(\"/api/profile\")\n      .then(() =>\n        dispatch({\n          type: SET_CURRENT_USER,\n          payload: {},\n        })\n      )\n      .catch((err) =>\n        dispatch({\n          type: GET_ERRORS,\n          payload: err.response.data,\n        })\n      );\n  }\n};\n\n// export const getProfiles = () => async (dispatch) => {\n//     dispatch({ type: CLEAR_PROFILE });\n\n//     try {\n//       const res = await api.get('/profile');\n\n//       dispatch({\n//         type: GET_PROFILES,\n//         payload: res.data\n//       });\n//     } catch (err) {\n//       dispatch({\n//         type: PROFILE_ERROR,\n//         payload: { msg: err.response.statusText, status: err.response.status }\n//       });\n//     }\n//   };\n// Get all Profiles\nexport const getProfiles = () => (dispatch) => {\n  dispatch(setProfileLoading());\n  axios\n    .get(\"/api/profile/all\")\n    .then((res) =>\n      dispatch({\n        type: GET_PROFILES,\n        payload: res.data,\n      })\n    )\n    .catch(() =>\n      dispatch({\n        type: GET_PROFILES,\n        payload: null,\n      })\n    );\n};\n\n// Profile loading\nexport const setProfileLoading = () => {\n  return {\n    type: PROFILE_LOADING,\n  };\n};\n\n// Clear profile\nexport const clearCurrentProfile = () => {\n  return {\n    type: CLEAR_CURRENT_PROFILE,\n  };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}