{"ast":null,"code":"import _defineProperty from \"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _classCallCheck from \"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"/Users/sachin/DevArena/client/src/components/post/CommentForm.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport TextAreaFieldGroup from '../common/TextAreaFieldGroup';\nimport { addComment } from '../../actions/postActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar CommentForm = /*#__PURE__*/function (_Component) {\n  _inherits(CommentForm, _Component);\n  var _super = _createSuper(CommentForm);\n  function CommentForm(props) {\n    var _this;\n    _classCallCheck(this, CommentForm);\n    _this = _super.call(this, props);\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n      var user = _this.props.auth.user;\n      var postId = _this.props.postId;\n      var newComment = {\n        text: _this.state.text,\n        name: user.name,\n        avatar: user.avatar\n      };\n      _this.props.addComment(postId, newComment);\n      _this.setState({\n        text: ''\n      });\n    };\n    _this.onChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n    _this.state = {\n      text: '',\n      errors: {}\n    };\n    return _this;\n  }\n  _createClass(CommentForm, [{\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(newProps) {\n      if (newProps.errors) {\n        this.setState({\n          errors: newProps.errors\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var errors = this.state.errors;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post-form mb-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card card-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header bg-info text-white\",\n            children: \"Make a comment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: this.onSubmit,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: /*#__PURE__*/_jsxDEV(TextAreaFieldGroup, {\n                  placeholder: \"Type a reply here...\",\n                  onChange: this.onChange,\n                  value: this.state.text,\n                  name: \"text\",\n                  error: errors.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 52,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-outline-success\",\n                children: \"Submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this);\n    }\n  }]);\n  return CommentForm;\n}(Component);\nCommentForm.propTypes = {\n  addPost: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  postId: PropTypes.string.isRequired,\n  errors: PropTypes.object.isRequired\n};\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    errors: state.errors\n  };\n};\nexport default connect(mapStateToProps, {\n  addComment: addComment\n})(CommentForm);","map":{"version":3,"names":["React","Component","PropTypes","connect","TextAreaFieldGroup","addComment","jsxDEV","_jsxDEV","CommentForm","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","onSubmit","e","preventDefault","user","auth","postId","newComment","text","state","name","avatar","setState","onChange","_defineProperty","target","value","errors","_createClass","key","UNSAFE_componentWillReceiveProps","newProps","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","error","type","propTypes","addPost","func","isRequired","object","string","mapStateToProps"],"sources":["/Users/sachin/DevArena/client/src/components/post/CommentForm.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport TextAreaFieldGroup from '../common/TextAreaFieldGroup';\nimport { addComment } from '../../actions/postActions';\n\nclass CommentForm extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            text: '',\n            errors: {}\n        };\n    }\n\n    UNSAFE_componentWillReceiveProps(newProps) {\n        if (newProps.errors) {\n            this.setState({ errors: newProps.errors });\n        }\n    }\n\n    onSubmit = e => {\n        e.preventDefault();\n\n        const { user } = this.props.auth;\n        const { postId } = this.props;\n\n        const newComment = {\n            text: this.state.text,\n            name: user.name,\n            avatar: user.avatar\n        };\n\n        this.props.addComment(postId, newComment);\n        this.setState({ text: '' });\n    };\n\n    onChange = e => {\n        this.setState({ [e.target.name]: e.target.value });\n    };\n\n    render() {\n        const { errors } = this.state;\n\n        return (\n            <div className=\"post-form mb-3\">\n                <div className=\"card card-info\">\n                    <div className=\"card-header bg-info text-white\">Make a comment</div>\n                    <div className=\"card-body\">\n                        <form onSubmit={this.onSubmit}>\n                            <div className=\"form-group\">\n                                <TextAreaFieldGroup\n                                    placeholder=\"Type a reply here...\"\n                                    onChange={this.onChange}\n                                    value={this.state.text}\n                                    name=\"text\"\n                                    error={errors.text}\n                                />\n                            </div>\n                            <button type=\"submit\" className=\"btn btn-outline-success\">\n                                Submit\n                            </button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nCommentForm.propTypes = {\n    addPost: PropTypes.func.isRequired,\n    auth: PropTypes.object.isRequired,\n    postId: PropTypes.string.isRequired,\n    errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n    auth: state.auth,\n    errors: state.errors\n});\n\nexport default connect(\n    mapStateToProps,\n    { addComment }\n)(CommentForm);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}