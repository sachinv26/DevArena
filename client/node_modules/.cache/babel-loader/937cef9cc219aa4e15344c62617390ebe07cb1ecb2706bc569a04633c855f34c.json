{"ast":null,"code":"import _defineProperty from\"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{connect}from'react-redux';import TextAreaFieldGroup from'../common/TextAreaFieldGroup';import{addPost}from'../../actions/postActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PostForm=/*#__PURE__*/function(_Component){_inherits(PostForm,_Component);var _super=_createSuper(PostForm);function PostForm(props){var _this;_classCallCheck(this,PostForm);_this=_super.call(this,props);_this.onSubmit=function(e){e.preventDefault();var user=_this.props.auth.user;var newPost={text:_this.state.text,name:user.name,avatar:user.avatar};_this.props.addPost(newPost);_this.setState({text:''});};_this.onChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.state={text:'',errors:{}};return _this;}_createClass(PostForm,[{key:\"UNSAFE_componentWillReceiveProps\",value:function UNSAFE_componentWillReceiveProps(newProps){if(newProps.errors){this.setState({errors:newProps.errors});}}},{key:\"render\",value:function render(){var errors=this.state.errors;return/*#__PURE__*/_jsx(\"div\",{className:\"post-form mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card card-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-info text-white\",children:\"Write a post\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(TextAreaFieldGroup,{placeholder:\"Type a message here...\",onChange:this.onChange,value:this.state.text,name:\"text\",error:errors.text})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-outline-success\",children:\"Submit\"})]})})]})});}}]);return PostForm;}(Component);var mapStateToProps=function mapStateToProps(state){return{auth:state.auth,errors:state.errors};};export default connect(mapStateToProps,{addPost:addPost})(PostForm);","map":{"version":3,"names":["React","Component","connect","TextAreaFieldGroup","addPost","jsx","_jsx","jsxs","_jsxs","PostForm","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","onSubmit","e","preventDefault","user","auth","newPost","text","state","name","avatar","setState","onChange","_defineProperty","target","value","errors","_createClass","key","UNSAFE_componentWillReceiveProps","newProps","render","className","children","placeholder","error","type","mapStateToProps"],"sources":["/Users/sachin/DevArena/client/src/components/posts/PostForm.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport TextAreaFieldGroup from '../common/TextAreaFieldGroup';\nimport { addPost } from '../../actions/postActions';\n\nclass PostForm extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            text: '',\n            errors: {}\n        };\n    }\n\n    UNSAFE_componentWillReceiveProps(newProps) {\n        if (newProps.errors) {\n            this.setState({ errors: newProps.errors });\n        }\n    }\n\n    onSubmit = e => {\n        e.preventDefault();\n\n        const { user } = this.props.auth;\n        const newPost = {\n            text: this.state.text,\n            name: user.name,\n            avatar: user.avatar\n        };\n\n        this.props.addPost(newPost);\n        this.setState({ text: '' });\n    };\n\n    onChange = e => {\n        this.setState({ [e.target.name]: e.target.value });\n    };\n\n    render() {\n        const { errors } = this.state;\n\n        return (\n            <div className=\"post-form mb-3\">\n                <div className=\"card card-info\">\n                    <div className=\"card-header bg-info text-white\">Write a post</div>\n                    <div className=\"card-body\">\n                        <form onSubmit={this.onSubmit}>\n                            <div className=\"form-group\">\n                                <TextAreaFieldGroup\n                                    placeholder=\"Type a message here...\"\n                                    onChange={this.onChange}\n                                    value={this.state.text}\n                                    name=\"text\"\n                                    error={errors.text}\n                                />\n                            </div>\n                            <button type=\"submit\" className=\"btn btn-outline-success\">\n                                Submit\n                            </button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nPostForm.propTypes = {\n    addPost: PropTypes.func.isRequired,\n    auth: PropTypes.object.isRequired,\n    errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n    auth: state.auth,\n    errors: state.errors\n});\n\nexport default connect(\n    mapStateToProps,\n    { addPost }\n)(PostForm);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}