{"ast":null,"code":"import axios from'axios';import{ADD_POST,CLEAR_ERRORS,DELETE_POST,GET_ERRORS,GET_POST,GET_POSTS,POST_LOADING}from'./types';// Add Posts\nexport var addPost=function addPost(postData){return function(dispatch){dispatch(clearErrors());axios.post('https://devarena-byn0.onrender.com/api/posts',postData).then(function(res){return dispatch({type:ADD_POST,payload:res.data});}).catch(function(err){return dispatch({type:GET_ERRORS,payload:err.response.data});});};};// Get Posts\nexport var getPosts=function getPosts(){return function(dispatch){dispatch(setPostLoading());axios.get('https://devarena-byn0.onrender.com/api/posts').then(function(res){return dispatch({type:GET_POSTS,payload:res.data});}).catch(function(){return dispatch({type:GET_POSTS,payload:null});});};};// Get Post\nexport var getPost=function getPost(id){return function(dispatch){dispatch(setPostLoading());axios.get(\"https://devarena-byn0.onrender.com/api/posts/\".concat(id)).then(function(res){return dispatch({type:GET_POST,payload:res.data});}).catch(function(){return dispatch({type:GET_POST,payload:null});});};};// Delete Post\nexport var deletePost=function deletePost(id){return function(dispatch){axios.delete(\"https://devarena-byn0.onrender.com/api/posts/\".concat(id)).then(function(){return dispatch({type:DELETE_POST,payload:id});}).catch(function(err){return dispatch({type:GET_ERRORS,payload:err.response.data});});};};//Add Like\nexport var addLike=function addLike(id){return function(dispatch){axios.post(\"https://devarena-byn0.onrender.com/api/posts/like/\".concat(id)).then(function(){return dispatch(getPosts());}).catch(function(err){return dispatch({type:GET_ERRORS,payload:err.response.data});});};};//Remove Like\nexport var removeLike=function removeLike(id){return function(dispatch){axios.post(\"https://devarena-byn0.onrender.com/api/posts/unlike/\".concat(id)).then(function(){return dispatch(getPosts());}).catch(function(err){return dispatch({type:GET_ERRORS,payload:err.response.data});});};};// Add Comment\nexport var addComment=function addComment(postId,commentData){return function(dispatch){dispatch(clearErrors());axios.post(\"https://devarena-byn0.onrender.com/api/posts/comment/\".concat(postId),commentData).then(function(res){return dispatch({type:GET_POST,payload:res.data});}).catch(function(err){return dispatch({type:GET_ERRORS,payload:err.response.data});});};};// Delete Comment\nexport var deleteComment=function deleteComment(postId,commentId){return function(dispatch){axios.delete(\"https://devarena-byn0.onrender.com/api/posts/comment/\".concat(postId,\"/\").concat(commentId)).then(function(res){return dispatch({type:GET_POST,payload:res.data});}).catch(function(err){return dispatch({type:GET_ERRORS,payload:err.response.data});});};};// Set loading state\nexport var setPostLoading=function setPostLoading(){return{type:POST_LOADING};};// Clear Errors\nexport var clearErrors=function clearErrors(){return{type:CLEAR_ERRORS};};","map":{"version":3,"names":["axios","ADD_POST","CLEAR_ERRORS","DELETE_POST","GET_ERRORS","GET_POST","GET_POSTS","POST_LOADING","addPost","postData","dispatch","clearErrors","post","then","res","type","payload","data","catch","err","response","getPosts","setPostLoading","get","getPost","id","concat","deletePost","delete","addLike","removeLike","addComment","postId","commentData","deleteComment","commentId"],"sources":["/Users/sachin/DevArena/client/src/actions/postActions.js"],"sourcesContent":["import axios from 'axios';\nimport { ADD_POST, CLEAR_ERRORS, DELETE_POST, GET_ERRORS, GET_POST, GET_POSTS, POST_LOADING } from './types';\n\n// Add Posts\nexport const addPost = postData => dispatch => {\n    dispatch(clearErrors());\n\n    axios\n        .post('https://devarena-byn0.onrender.com/api/posts', postData)\n        .then(res =>\n            dispatch({\n                type: ADD_POST,\n                payload: res.data\n            })\n        )\n        .catch(err =>\n            dispatch({\n                type: GET_ERRORS,\n                payload: err.response.data\n            })\n        );\n};\n\n// Get Posts\nexport const getPosts = () => dispatch => {\n    dispatch(setPostLoading());\n\n    axios\n        .get('https://devarena-byn0.onrender.com/api/posts')\n        .then(res =>\n            dispatch({\n                type: GET_POSTS,\n                payload: res.data\n            })\n        )\n        .catch(() =>\n            dispatch({\n                type: GET_POSTS,\n                payload: null\n            })\n        );\n};\n\n// Get Post\nexport const getPost = id => dispatch => {\n    dispatch(setPostLoading());\n\n    axios\n        .get(`https://devarena-byn0.onrender.com/api/posts/${id}`)\n        .then(res =>\n            dispatch({\n                type: GET_POST,\n                payload: res.data\n            })\n        )\n        .catch(() =>\n            dispatch({\n                type: GET_POST,\n                payload: null\n            })\n        );\n};\n\n// Delete Post\nexport const deletePost = id => dispatch => {\n    axios\n        .delete(`https://devarena-byn0.onrender.com/api/posts/${id}`)\n        .then(() =>\n            dispatch({\n                type: DELETE_POST,\n                payload: id\n            })\n        )\n        .catch(err =>\n            dispatch({\n                type: GET_ERRORS,\n                payload: err.response.data\n            })\n        );\n};\n\n//Add Like\nexport const addLike = id => dispatch => {\n    axios\n        .post(`https://devarena-byn0.onrender.com/api/posts/like/${id}`)\n        .then(() => dispatch(getPosts()))\n        .catch(err =>\n            dispatch({\n                type: GET_ERRORS,\n                payload: err.response.data\n            })\n        );\n};\n\n//Remove Like\nexport const removeLike = id => dispatch => {\n    axios\n        .post(`https://devarena-byn0.onrender.com/api/posts/unlike/${id}`)\n        .then(() => dispatch(getPosts()))\n        .catch(err =>\n            dispatch({\n                type: GET_ERRORS,\n                payload: err.response.data\n            })\n        );\n};\n\n// Add Comment\nexport const addComment = (postId, commentData) => dispatch => {\n    dispatch(clearErrors());\n\n    axios\n        .post(`https://devarena-byn0.onrender.com/api/posts/comment/${postId}`, commentData)\n        .then(res =>\n            dispatch({\n                type: GET_POST,\n                payload: res.data\n            })\n        )\n        .catch(err =>\n            dispatch({\n                type: GET_ERRORS,\n                payload: err.response.data\n            })\n        );\n};\n\n// Delete Comment\nexport const deleteComment = (postId, commentId) => dispatch => {\n    axios\n        .delete(`https://devarena-byn0.onrender.com/api/posts/comment/${postId}/${commentId}`)\n        .then(res =>\n            dispatch({\n                type: GET_POST,\n                payload: res.data\n            })\n        )\n        .catch(err =>\n            dispatch({\n                type: GET_ERRORS,\n                payload: err.response.data\n            })\n        );\n};\n\n// Set loading state\nexport const setPostLoading = () => {\n    return {\n        type: POST_LOADING\n    };\n};\n\n// Clear Errors\nexport const clearErrors = () => {\n    return {\n        type: CLEAR_ERRORS\n    };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}