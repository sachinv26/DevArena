{"ast":null,"code":"import _classCallCheck from\"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/sachin/DevArena/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{connect}from'react-redux';import classNames from'classnames';import{Link}from'react-router-dom';import{addLike,deletePost,removeLike}from'../../actions/postActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PostItem=/*#__PURE__*/function(_Component){_inherits(PostItem,_Component);var _super=_createSuper(PostItem);function PostItem(){var _this;_classCallCheck(this,PostItem);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.onDeleteClick=function(event,id){event.preventDefault();_this.props.deletePost(id);};_this.onLikeClick=function(event,id){event.preventDefault();_this.props.addLike(id);};_this.onUnlikeClick=function(event,id){event.preventDefault();_this.props.removeLike(id);};return _this;}_createClass(PostItem,[{key:\"findUserLike\",value:function findUserLike(likes){var auth=this.props.auth;if(likes.filter(function(like){return like.user===auth.user.id;}).length>0){return true;}else{return false;}}},{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,post=_this$props.post,auth=_this$props.auth,showActions=_this$props.showActions;return/*#__PURE__*/_jsx(\"div\",{className:\"card card-body mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-2\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"profile.html\",children:/*#__PURE__*/_jsx(\"img\",{className:\"rounded-circle d-none d-md-block\",src:post.avatar,alt:\"\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:post.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-10\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"lead\",children:post.text}),showActions?/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:function onClick(event){return _this2.onLikeClick(event,post._id);},className:\"btn btn-light mr-1\",children:[/*#__PURE__*/_jsx(\"i\",{className:classNames('fas fa-thumbs-up',{'text-info':this.findUserLike(post.likes)})}),/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-light\",children:post.likes.length})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(event){return _this2.onUnlikeClick(event,post._id);},className:\"btn btn-light mr-1\",children:/*#__PURE__*/_jsx(\"i\",{className:\"text-secondary fas fa-thumbs-down\"})}),/*#__PURE__*/_jsx(Link,{to:\"/post/\".concat(post._id),className:\"btn btn-info mr-1\",children:\"Comments\"}),post.user===auth.user.id?/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger mr-1\",type:\"button\",onClick:function onClick(event){return _this2.onDeleteClick(event,post._id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})}):null]}):null]})]})});}}]);return PostItem;}(Component);PostItem.defaultProps={showActions:true};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};export default connect(mapStateToProps,{deletePost:deletePost,addLike:addLike,removeLike:removeLike})(PostItem);","map":{"version":3,"names":["React","Component","connect","classNames","Link","addLike","deletePost","removeLike","jsx","_jsx","jsxs","_jsxs","PostItem","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","onDeleteClick","event","id","preventDefault","props","onLikeClick","onUnlikeClick","_createClass","key","value","findUserLike","likes","auth","filter","like","user","render","_this2","_this$props","post","showActions","className","children","href","src","avatar","alt","name","text","type","onClick","_id","to","defaultProps","mapStateToProps","state"],"sources":["/Users/sachin/DevArena/client/src/components/posts/PostItem.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport { addLike, deletePost, removeLike } from '../../actions/postActions';\n\nclass PostItem extends Component {\n    onDeleteClick = (event, id) => {\n        event.preventDefault();\n        this.props.deletePost(id);\n    };\n\n    onLikeClick = (event, id) => {\n        event.preventDefault();\n        this.props.addLike(id);\n    };\n\n    onUnlikeClick = (event, id) => {\n        event.preventDefault();\n        this.props.removeLike(id);\n    };\n\n    findUserLike(likes) {\n        const { auth } = this.props;\n        if (likes.filter(like => like.user === auth.user.id).length > 0) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    render() {\n        const { post, auth, showActions } = this.props;\n\n        return (\n            <div className=\"card card-body mb-3\">\n                <div className=\"row\">\n                    <div className=\"col-md-2\">\n                        <a href=\"profile.html\">\n                            <img\n                                className=\"rounded-circle d-none d-md-block\"\n                                src={post.avatar}\n                                alt=\"\"\n                            />\n                        </a>\n                        <br />\n                        <p className=\"text-center\">{post.name}</p>\n                    </div>\n                    <div className=\"col-md-10\">\n                        <p className=\"lead\">{post.text}</p>\n                        {showActions ? (\n                            <span>\n                                <button\n                                    type=\"button\"\n                                    onClick={event => this.onLikeClick(event, post._id)}\n                                    className=\"btn btn-light mr-1\"\n                                >\n                                    <i\n                                        className={classNames('fas fa-thumbs-up', {\n                                            'text-info': this.findUserLike(post.likes)\n                                        })}\n                                    />\n                                    <span className=\"badge badge-light\">{post.likes.length}</span>\n                                </button>\n                                <button\n                                    type=\"button\"\n                                    onClick={event => this.onUnlikeClick(event, post._id)}\n                                    className=\"btn btn-light mr-1\"\n                                >\n                                    <i className=\"text-secondary fas fa-thumbs-down\" />\n                                </button>\n                                <Link to={`/post/${post._id}`} className=\"btn btn-info mr-1\">\n                                    Comments\n\t\t\t\t\t\t\t\t</Link>\n                                {post.user === auth.user.id ? (\n                                    <button\n                                        className=\"btn btn-danger mr-1\"\n                                        type=\"button\"\n                                        onClick={event => this.onDeleteClick(event, post._id)}\n                                    >\n                                        <i className=\"fas fa-times\" />\n                                    </button>\n                                ) : null}\n                            </span>\n                        ) : null}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nPostItem.defaultProps = {\n    showActions: true\n};\n\nPostItem.propTypes = {\n    post: PropTypes.object.isRequired,\n    auth: PropTypes.object.isRequired,\n    deletePost: PropTypes.func.isRequired,\n    addLike: PropTypes.func.isRequired,\n    removeLike: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n    auth: state.auth\n});\n\nexport default connect(\n    mapStateToProps,\n    { deletePost, addLike, removeLike }\n)(PostItem);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}